<!-- Suponha que o prazo para pagamento de uma infração de trânsito com desconto seja 90
dias. Elaborar um programa que leia a data de uma infração e o valor da multa. O programa
deverá retornar a data limite do pagamento com desconto e o valor a ser pago nesta data
(desconto de 20%). -->

<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Exercício 2 da lista de objetos de JavaScript</title>
  </head>
  <body>
    <h1> Cálculo de valor de multa</h1>
    <form>
      <p> Data da infração:
        <input type="date" id="dtMulta"/>
      </p>
      <p> Valor da multa:
        <input type="text" id="valMulta"/>
      </p>
      <input type="button" value="Calcular Valores da Multa" id="btCalculaMulta"/>
    </form>
    <p id="resposta1"></p>
    <p id="resposta2"></p>
    <script>
      function calcularMultaDesc(){
        var vm, data;
        //Usando a função parseFloat para converter o tipo texto em um número de ponto flutuante
        vm = parseFloat(document.getElementById("valMulta").value);
        //criando um objeto do tipo Date para receber a data informada no formulário
        data = new Date(document.getElementById("dtMulta").innerHTML);
        //adicionando 90 dias a data informada no formulário
        data = data.getTime() + 7776000000;
        //calculando o desconto de 20% da multa
        vm = vm * 0.8;
        //a função toFixed() retorna o número com exatamente duas casas decimais
        document.getElementById("resposta1").innerHTML = "Data limite do pagamento com desconto de 20%: "+data.getDate()+"/"+data.getMonth()+"/"+data.getFullYear();
        document.getElementById("resposta2").innerHTML = "Valor do pagamento com desconto: R$ "+vm.toFixed(2);
      }
      // cria uma referência ao botão (com id=) btCalculaMulta
      var botao = document.getElementById("btCalculaMulta");
      // que ao ser clicado irá chamar a função calcularMultaDesc
      botao.addEventListener("click", calcularMultaDesc);
    </script>
  </body>
</html>
